{"ast":null,"code":"var _jsxFileName = \"D:\\\\polytech_nice_sophia\\\\SI5\\\\Programmable-web\\\\Projet\\\\BJT\\\\client-side\\\\src\\\\Components\\\\login\\\\signup.js\";\nimport React, { Component } from \"react\";\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport \"./signup.css\";\nimport axios from 'axios';\nimport { Redirect } from \"react-router-dom\";\n\nvar passwordHash = require('password-hash');\n\nexport default class Signup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.id]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const _this$state = this.state,\n            email = _this$state.email,\n            password = _this$state.password,\n            confirmPassword = _this$state.confirmPassword;\n      /*console.log(this.state.email,passwordHash.generate(this.state.password));*/\n\n      console.log(this.state);\n      this.sendLoginData({\n        email: this.state.email,\n        password: this.state.password\n      });\n      window.location.href = '/';\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      confirmPassword: \"\"\n    };\n  }\n\n  validateForm() {\n    return this.state.email.length > 0 && this.state.password.length > 0 && this.state.password === this.state.confirmPassword;\n  }\n\n  sendLoginData(data) {\n    axios.post(\"http://localhost:3001/user\", data).then(response => {\n      console.log(response);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"Enregistrer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"S'enregistrer\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Entrer votre mail\"), React.createElement(Form.Group, {\n      controlId: \"email\",\n      bsSize: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      autoFocus: true,\n      type: \"email\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Entrer votre mot de passe\"), React.createElement(Form.Group, {\n      controlId: \"password\",\n      bsSize: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      value: this.state.password,\n      onChange: this.handleChange,\n      type: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })), React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Rentrer votre mot de passe\"), React.createElement(Form.Group, {\n      controlId: \"confirmPassword\",\n      bsSize: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      value: this.confirmPassword,\n      onChange: this.handleChange,\n      type: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })), React.createElement(Button, {\n      block: true,\n      bsSize: \"large\",\n      disabled: !this.validateForm(),\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Signup\")));\n  }\n\n}","map":{"version":3,"sources":["D:/polytech_nice_sophia/SI5/Programmable-web/Projet/BJT/client-side/src/Components/login/signup.js"],"names":["React","Component","Form","Button","axios","Redirect","passwordHash","require","Signup","constructor","props","handleChange","event","setState","target","id","value","handleSubmit","preventDefault","state","email","password","confirmPassword","console","log","sendLoginData","window","location","href","validateForm","length","data","post","then","response","catch","error","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n    import Form from 'react-bootstrap/Form'\r\n    import Button from 'react-bootstrap/Button'\r\n    import \"./signup.css\";\r\n    import axios from 'axios'\r\n\r\n    \r\n    import {Redirect} from \"react-router-dom\"\r\n    \r\n   \r\n    var passwordHash = require('password-hash');\r\n    \r\n    export default class Signup extends Component {\r\n      constructor(props) {\r\n        super(props);\r\n        \r\n     \r\n        \r\n        this.state = {\r\n          email: \"\",\r\n          password: \"\",\r\n          confirmPassword:\"\"\r\n          \r\n        };\r\n      }\r\n\r\n      validateForm() {\r\n        return this.state.email.length > 0 && this.state.password.length > 0 && this.state.password===this.state.confirmPassword;\r\n\r\n      }\r\n      \r\n     \r\n      handleChange = event => {\r\n        this.setState({\r\n          [event.target.id]: event.target.value\r\n        });\r\n      }\r\n\r\n      handleSubmit = event => {\r\n        event.preventDefault();\r\n       const {email, password, confirmPassword} = this.state\r\n        /*console.log(this.state.email,passwordHash.generate(this.state.password));*/\r\n        console.log(this.state);\r\n        \r\n        this.sendLoginData({email: this.state.email, password: this.state.password})\r\n\r\n        window.location.href='/'\r\n        \r\n  }  \r\n  sendLoginData(data) {\t\r\n\t\t\r\n\t\taxios.post(\"http://localhost:3001/user\",data)\r\n\t\t    .then(response => {\r\n\t\t\tconsole.log(response)\r\n\t\t}).catch(error => {\r\n\r\n            console.log(error)\r\n\t\t});\r\n\t}\r\n\r\n      \r\n      \r\n      render() {\r\n        \r\n     \r\n        return (\r\n<div className=\"Signup\" >\r\n <h2 className=\"Enregistrer\">S'enregistrer</h2><br></br>\r\n          <Form onSubmit={this.handleSubmit}>\r\n  \r\n         <h5 >Entrer votre mail</h5>\r\n             <Form.Group controlId=\"email\" bsSize=\"large\">\r\n            \r\n                <Form.Control\r\n                  autoFocus\r\n                  type=\"email\"\r\n                  value={this.state.email}\r\n                  onChange={this.handleChange}\r\n                />\r\n              </Form.Group>\r\n              <h5 >Entrer votre mot de passe</h5>\r\n              <Form.Group controlId=\"password\" bsSize=\"large\">\r\n                <Form.Control\r\n                  value={(this.state.password)}\r\n                  onChange={this.handleChange}\r\n                  type=\"password\"\r\n                />\r\n              </Form.Group>\r\n              <h5 >Rentrer votre mot de passe</h5>\r\n              <Form.Group controlId=\"confirmPassword\" bsSize=\"large\">\r\n                <Form.Control\r\n                  value={this.confirmPassword}\r\n                  onChange={this.handleChange}\r\n                  type=\"password\"\r\n                />\r\n              </Form.Group>\r\n        \r\n               <Button\r\n                block\r\n                bsSize=\"large\"\r\n                \r\n                disabled={!this.validateForm()}\r\n                type=\"submit\"\r\n              >\r\n                Signup\r\n              </Button>\r\n        \r\n       \r\n      </Form></div>\r\n    );\r\n  }}\r\n"]},"metadata":{},"sourceType":"module"}