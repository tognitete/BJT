{"ast":null,"code":"var _jsxFileName = \"D:\\\\polytech_nice_sophia\\\\SI5\\\\Programmable-web\\\\Projet\\\\BJT\\\\client-side\\\\src\\\\Components\\\\PluginsETdescriptions\\\\affichageComment.js\";\nimport React, { Component } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport CommentList from \"./commentList\";\nimport CommentForm from \"./commentForm\";\n\nclass AffichageCommentaire extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      comments: [],\n      loading: false\n    };\n    this.addComment = this.addComment.bind(this);\n  }\n\n  componentDidMount() {\n    // loading\n    this.setState({\n      loading: true\n    });\n    const url = \"http://localhost:3001/plugin\" + this.props.nomPlugin + \"/comments\";\n    console.log(url); // get all the comments\n\n    fetch(url).then(res => res.json()).then(res => {\n      this.setState({\n        comments: res,\n        loading: false\n      });\n    }).catch(err => {\n      this.setState({\n        loading: false\n      });\n    });\n  }\n  /**\r\n   * Add new comment\r\n   * @param {Object} comment\r\n   */\n\n\n  addComment(comment) {\n    this.setState({\n      loading: false,\n      comments: [comment, ...this.state.comments]\n    });\n  }\n\n  render() {\n    const loadingSpin = this.state.loading ? \"App-logo Spin\" : \"App-logo\";\n    return React.createElement(\"div\", {\n      className: \"App container bg-light shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-4  pt-3 border-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Say something about my plugin \"), React.createElement(CommentForm, {\n      addComment: this.addComment,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-8  pt-3 bg-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(CommentList, {\n      loading: this.state.loading,\n      comments: this.state.comments,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default AffichageCommentaire;","map":{"version":3,"sources":["D:/polytech_nice_sophia/SI5/Programmable-web/Projet/BJT/client-side/src/Components/PluginsETdescriptions/affichageComment.js"],"names":["React","Component","CommentList","CommentForm","AffichageCommentaire","constructor","props","state","comments","loading","addComment","bind","componentDidMount","setState","url","nomPlugin","console","log","fetch","then","res","json","catch","err","comment","render","loadingSpin"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAO,kCAAP;AAEA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,MAAMC,oBAAN,SAAmCH,SAAnC,CAA6C;AAEzCI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,OAAO,EAAE;AAFE,KAAb;AAKA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB;AACA,SAAKC,QAAL,CAAc;AAAEJ,MAAAA,OAAO,EAAE;AAAX,KAAd;AAEJ,UAAMK,GAAG,GAAC,iCAAiC,KAAKR,KAAL,CAAWS,SAA5C,GAAwD,WAAlE;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAaH,GAAb,EALsB,CAMlB;;AACAI,IAAAA,KAAK,CAACJ,GAAD,CAAL,CACGK,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQC,GAAG,IAAI;AACX,WAAKP,QAAL,CAAc;AACZL,QAAAA,QAAQ,EAAEY,GADE;AAEZX,QAAAA,OAAO,EAAE;AAFG,OAAd;AAID,KAPH,EAQGa,KARH,CAQSC,GAAG,IAAI;AACZ,WAAKV,QAAL,CAAc;AAAEJ,QAAAA,OAAO,EAAE;AAAX,OAAd;AACD,KAVH;AAWD;AAED;;;;;;AAIAC,EAAAA,UAAU,CAACc,OAAD,EAAU;AAClB,SAAKX,QAAL,CAAc;AACZJ,MAAAA,OAAO,EAAE,KADG;AAEZD,MAAAA,QAAQ,EAAE,CAACgB,OAAD,EAAU,GAAG,KAAKjB,KAAL,CAAWC,QAAxB;AAFE,KAAd;AAID;;AAEDiB,EAAAA,MAAM,GAAG;AACP,UAAMC,WAAW,GAAG,KAAKnB,KAAL,CAAWE,OAAX,GAAqB,eAArB,GAAuC,UAA3D;AACA,WACE;AAAK,MAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADF,EAEE,oBAAC,WAAD;AAAa,MAAA,UAAU,EAAE,KAAKC,UAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,EAKE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AACE,MAAA,OAAO,EAAE,KAAKH,KAAL,CAAWE,OADtB;AAEE,MAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWC,QAFvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CALF,CAFF,CADF;AAiBD;;AA/DwC;;AAkE7C,eAAeJ,oBAAf","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\n\r\nimport CommentList from \"./commentList\";\r\nimport CommentForm from \"./commentForm\";\r\n\r\nclass AffichageCommentaire extends Component {\r\n \r\n    constructor(props) {\r\n      super(props);\r\n  \r\n      this.state = {\r\n        comments: [],\r\n        loading: false\r\n      };\r\n  \r\n      this.addComment = this.addComment.bind(this);\r\n    }\r\n  \r\n    componentDidMount() {\r\n      // loading\r\n      this.setState({ loading: true });\r\n  \r\n  const url=\"http://localhost:3001/plugin\" + this.props.nomPlugin + \"/comments\"\r\n  console.log (url)\r\n      // get all the comments\r\n      fetch(url)\r\n        .then(res => res.json())\r\n        .then(res => {\r\n          this.setState({\r\n            comments: res,\r\n            loading: false\r\n          });\r\n        })\r\n        .catch(err => {\r\n          this.setState({ loading: false });\r\n        });\r\n    }\r\n  \r\n    /**\r\n     * Add new comment\r\n     * @param {Object} comment\r\n     */\r\n    addComment(comment) {\r\n      this.setState({\r\n        loading: false,\r\n        comments: [comment, ...this.state.comments]\r\n      });\r\n    }\r\n  \r\n    render() {\r\n      const loadingSpin = this.state.loading ? \"App-logo Spin\" : \"App-logo\";\r\n      return (\r\n        <div className=\"App container bg-light shadow\">\r\n            \r\n          <div className=\"row\">\r\n            <div className=\"col-4  pt-3 border-right\">\r\n              <h6>Say something about my plugin </h6>\r\n              <CommentForm addComment={this.addComment} />\r\n            </div>\r\n            <div className=\"col-8  pt-3 bg-white\">\r\n              <CommentList\r\n                loading={this.state.loading}\r\n                comments={this.state.comments}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\nexport default AffichageCommentaire;"]},"metadata":{},"sourceType":"module"}